<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" type="image/x-icon" href="/favicon.ico">
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Poppins'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
        <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" href="style.css">
        <title>Nej Ravindran</title>


        <style>
            .contentwrapper{
                position: relative;
                display: flex; 
                flex-direction: column; 
                justify-content: space-around; 
                align-items: center;
                margin: 0px;
                margin-bottom: 50px;
                background: linear-gradient(0deg, #222, rgb(66, 88, 103) 90%, black);                
            }

            .homepicwrapper{
                position: relative;
                width: 100%;
                overflow: hidden;
                margin-bottom: -10px;
            }

            .homepic{
                width: 100%; 
                transform: perspective(0px) translateZ(0px);
            }

            .homepic_bg_wrapper{
                position: absolute;
                width: 100%; 
                height: 90%;
                overflow: hidden;
            }

            
            .homepic_bg{
                position: absolute;
                width: 100%; 
                top: 0px;
                left: 0px;
                height: 100%; 
                filter: blur(0.5px);
                animation: nature_animation 1s linear;
            }

            .painting_on_wide_wall{
                position: absolute;
                width: 9%;
                height: 17.3%;
                left: 31.5%;
                top: 16.2%;
                z-index: 0;
                filter: brightness(0.7);
                background-color: black;
            }

            .painting_on_narrow_wall{
                position: absolute;
                width: 10.8%;
                height: 14.7%;
                left: 21%;
                top: 23%;
                z-index: 0;
                filter: brightness(0.7);
                background-color: black;
            }

            .painting_bg{
                position: absolute;
                left: 20%; 
                top: 0px; 
                height: 50%; 
                width: 22%; 
                background-color: black;
            }

            .statement{
                text-align: center;
                margin-bottom: 50px;
            }

            .carousel{
                display: flex; 
                flex-direction: row; 
                justify-content: center; 
                align-items: center;
                overflow-x: hidden;
            }

            .thumb{
                margin-right: 5px;
                width: 100px;
                height: 100px;
            }

            .para{
                text-align: justify;
                margin: 10px 50px;
                max-width: 60ch;
            }

            @keyframes typing {
                from { width: 0 }
                to { width: 100% }
            }

            @keyframes blink-caret {
                from, to { border-color: transparent }
                50% { border-color: rgb(114, 148, 241); }
            }

            @keyframes scroll_carousel {
                0%{
                    transform: translateX(10px);
                    opacity: 0;
                }
                100%{
                    transform: translateX(0px);
                    opacity: 1;
                }
            }


            @keyframes nature_animation {
                0%{
                    opacity: 0;
                }
                100%{
                    opacity: 1;
                }
            }

            @keyframes painting_animation {
                0%{
                    opacity: 0.5;
                    background-color: rgba(0, 0, 0, 1);
                }
                100%{
                    opacity: 1;
                    background-color: rgba(0, 0, 0, 1);
                }
            }

            .painting{
                background-color: black;
                animation: painting_animation 2s ease-in-out;
            }

            
            .thumb{
                animation: scroll_carousel 1s ease-in-out 1;
            }

            .typewriter h2{
                overflow: hidden; 
                border-right: .15em solid rgb(114, 148, 241); 
                white-space: nowrap; 
                /* margin-left: 0 auto;  */
                letter-spacing: .15em; 
                animation: typing 3.5s steps(30, end),
                blink-caret .75s step-end infinite;
            }

            .canvas{
                position: absolute;
                top: 0px;
                left: 0px;
                width: 100%;
                /* height: 100%; */
                /* background-color: #222; */
            }

        </style>
    </head>

    <body>
        <div id="loader" class="loading">
            <h1>Loading...</h1>
        </div>

        <div class="wrapper">
            <header>
                <div class="headerwrapper">
                    <div class="logowrapper">
                        <div class="logoframe">
                            <a href="/index.html">
                                <img class="logo" src="/images/profile100.jpg" alt="profile pic"/>
                            </a>
                        </div>
                        <div><strong class="logotext">NEJ</strong><strong class="logotext_last"> RAVINDRAN</strong></div>
                    </div>    
                    
                    <div class="normalmenuwrapper">
                        <nav>
                            <ul>
                                <li><a href="/index.html">Home</a></li>
                                <li><a href="/shop.html">Shop</a></li>
                                <li><a href="/gallery.html">Gallery</a></li>
                                <li><a href="/about.html">About</a></li>
                            </ul>
                        </nav>        
                    </div>    

                    <div class="mobilemenuwrapper">
                        <div class="mobilemenubutton">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>

                        <div class="mobilemenu">
                            <button class="closemenu">X</button>
                            <nav>
                                <ul>
                                    <li><a href="/index.html">Home</a></li>
                                    <li><a href="/shop.html">Shop</a></li>
                                    <li><a href="/gallery.html">Gallery</a></li>
                                    <li><a href="/about.html">About</a></li>
                                </ul>
                            </nav>        
                        </div>
                    </div>
                </div>
            </header>
            
            <div class="contentwrapper">
                <div class="homepicwrapper">
                    <div class="homepic_bg_wrapper">
                        <img id="homepic_bg" src="" class="homepic_bg"/>
                    </div>
                    <div class="painting_bg"></div>
                    <img id="painting" src="" class="painting"/>
                    <img id="homepic" src="" class="homepic"/>
                    <canvas id="can" class="canvas"></canvas>
                </div>
                
                <div id="typewriter" class="typewriter">
                    <h2>Why do I paint</h2>
                </div>
                    
                <div class="statement">
                    <hr/>
                
                    <p class="para">
                        Every painting is a journey — an adventurous yet meditative solo trip. 
                        The moment I pick up the brush, the noise of everyday life fades away. 
                        Time, worries, and the outside world dissolve, leaving only the canvas and the unfolding creation. 
                        Each of my paintings is a mix of careful planning and happy accidents. 
                        Often, I feel I’m on the verge of spoiling the piece, only to watch it transform in unexpected ways as I find my way through. 
                        No matter how much I prepare, every painting holds a surprise, and it’s this unpredictability that I’ve come to love. 
                        For me, the process is more fulfilling than the final result. 
                        Painting is my ultimate getaway from my wordly reality — my form of meditation, which I love to be engaged in again and again.    
                    </p>
                </div>

                <a href="/gallery.html">
                    <div class="carousel">
                        <img src="/gallery/thumbnails/appleseller.jpg" class="thumb"/>
                        <img src="/gallery/thumbnails/saxgirl.jpg" class="thumb"/>
                        <img src="/gallery/thumbnails/applepicker.jpg" class="thumb"/>
                        <img src="/gallery/thumbnails/tea-estates.jpg" class="thumb"/>
                    </div>    
                </a>
            </div>            

            <footer>
                <div>
                    <span class="social">&copy Nej Ravindran |</span>
                </div>
                <div>
                    <a class="social" href="https://www.instagram.com/nej.ravindran"><i class="fa-brands fa-instagram"></i></a>
                </div>
                <div>
                    <a class="social" href="https://www.youtube.com/@nej.ravindran"><i class="fa-brands fa-youtube"></i></a>
                </div>
            </footer>
        </div>

        <script src="site.js"></script>    
        
        <script>
            //scroll images at bottom
            let startIndex = 0;
            let endIndex = 0;
            let batchSize = 4;
            let counter = 0;
            window.setInterval(() => {
                $('.carousel').html('');
                
                for (let i = startIndex; i < startIndex + batchSize; i++) {
                    const pic = picsDb[i]; //picsDb is a global variable defined in site.js
                    let imgHtml = `<img class="thumb" src="/gallery/thumbnails/${pic.fileName}"/>`; 

                    $('.carousel').append(imgHtml);
                }

                if(startIndex+batchSize < picsDb.length){
                    startIndex+=batchSize;
                }else{
                    startIndex = 0;
                }
                
                counter++;
                if(counter % 2 == 0){
                    let wallPainting = document.getElementById('painting');
                    wallPainting.classList.remove('painting');
                    wallPainting.offsetWidth;
                    wallPainting.classList.add('painting');
                    wallPainting.src = '/gallery/thumbnails/' + picsDb[startIndex].fileName;
                    counter = 0;
                }
                
                

            }, 3000);


            //text typewriter effect
            var typewriterdiv = document.querySelector("#typewriter");
            const twobserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting){
                        entry.target.classList.add('typewriter');
                    }else{
                        entry.target.classList.remove('typewriter');
                    }
                });
            }, {threshold: 0.5});

            twobserver.observe(typewriterdiv); 


            //load appropriate imgage based on screen orientation
            function loadHomeImage(){
                let window = document.getElementById('homepic');
                let nature = document.getElementById('homepic_bg');
                let wallPainting = document.getElementById('painting');
                let wid = document.documentElement.clientWidth;
                let hgt = document.documentElement.clientHeight;
                
                let isVerticalOrentation = hgt > wid; 

                window.onload = () =>{
                    let month = new Date().getMonth();

                    if(isVerticalOrentation){
                        if (month>=3 && month<=5){ //april to june
                            nature.src = '/images/spring-narrow.jpg';
                        }else if (month>=6 && month<=8){ //july to sep
                            nature.src = '/images/spring-narrow.jpg';
                        }else if(month>=9 && month<=10){ //oct to nov
                            nature.src = '/images/fall-narrow.jpg';
                        }else{ //dec to mar
                            nature.src = '/images/winter-narrow.jpg';
                        }
                        
                        wallPainting.src = '/gallery/thumbnails/radhakrishna.jpg';
                        wallPainting.classList.remove('painting_on_wide_wall');
                        wallPainting.classList.add('painting_on_narrow_wall');
                    }else{
                        if (month>=3 && month<=5){ //april to june
                            nature.src = '/images/spring-wider.jpg';
                        }else if (month>=6 && month<=8){ //july to sep
                            nature.src = '/images/spring-wider.jpg';
                        }else if(month>=9 && month<=10){ //oct to nov
                            nature.src = '/images/fall-wider.jpg';
                        }else{ //dec to mar
                            nature.src = '/images/winter-wider.jpg';
                        }
                        
                        wallPainting.src = '/gallery/thumbnails/radhakrishna.jpg';
                        wallPainting.classList.remove('painting_on_narrow_wall');
                        wallPainting.classList.add('painting_on_wide_wall');                        
                    }
                };

                if(isVerticalOrentation){ 
                    window.src = '/images/home-art-narrow.png';
                }else{
                    window.src = '/images/home-art-wider.png';      
                }
            }


            window.addEventListener('scroll', () => {
                let scrollPercent = Math.ceil(((window.scrollY / document.documentElement.clientHeight) * 100) );
                 let nature = document.getElementById('homepic_bg');
                //  nature.style.left = 0 - scrollPercent * 0.5 + 'px'; 
                //  nature.style.top = 0 - scrollPercent * 0.5 + 'px'; 
                 nature.style.scale = scrollPercent * 0.009 + 1;
            });

            
            //respond to resize
            window.addEventListener('resize', () => {
                loadHomeImage();
            });

            //load image uplon start
            loadHomeImage();
        </script>

        <script src="canvas.js"></script>
    </body>
</html>
